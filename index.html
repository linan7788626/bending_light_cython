<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Bending Light by Nan Li</title>
  </head>

  <body>
    <header>
      <div class="inner">
		  <h1>Bending Light: <font size="8">Tools for Visualizing Strong Gravitational Lensing</font></h1>
        <h2></h2>
        <a href="https://github.com/linan7788626/cython_pylensing_toys" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h3>

<p><strong><em>Strong gravitational lensing</em></strong> is a remarkable phenomenon that produces some of the most striking images ever recorded by telescopes. The software tools that you can download here visually demonstrate what gravitational lensing is. By using a combination of mouse and keystrokes, you can build and explore a wide range of strong lensing scenarios. Extensive control of both the background sources and foreground lenses is offered. The software visualizes both the background sources and their strongly lensed images. Moreover, the caustic and critical curves of the lensing system are shown by default (Figure 1). The tool can visualize the properties of lenses (Figure 2), and the simulated observation of the lensing system (Figure 3). </p>

<p>Figure 1:
<img src="./images/figure_0.png" alt="Figure 1">
Figure 2:<br>
<img src="./images/figure_1.png" alt="Figure 2">
Figure 3:
<img src="./images/figure_2.png" alt="Figure 3"></p>


<h3>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h3>

<ol>
<li>
<p>Sources:<br>
Sources are represented as 2D Gaussian distributions, and can be altered in size, shape, orientation, and placement. Multiple sources can also be placed (up to 9). Sources are controlled with the left mouse button, with a number key (1-9) to select the particular source. Here, "1" stands for the first source enabled by default, "2-9" stand for additional sources that may be added. The control details are listed below: as an example, to move the position of source 1, click and hold "1" and "w" and click the left mouse key to drag and place that source.</p>

<ul>
<li>Hold the NUM key to pick the source you want to manipulate. </li>
<li>Hold "w" and the left mouse button to move the <strong>position</strong> of the source.</li>
<li>Hold "s" and the left mouse button and move the mouse vertically to change the <strong>size</strong> of the source.</li>
<li>Hold "e" and the left mouse button and move the mouse vertically to change the <strong>ellipticity</strong> of the source, or move the mouse horizontally to change the <strong>orientation</strong> of the source.</li>
<li>To <strong>add</strong> a new source (up to 9 total) hold "=" and left mouse click at the desired source location</li>
</ul>
</li>
<li>
<p>Lenses:<br>
Lenses are modeled as non-singular isothermal ellipsoids (NIEs). For simplicity, lenses are visualized as 2D Gaussian light distributions. Lenses can be altered in "size" (see below), projected shape, orientation, and placement. Like sources, up to 9 lenses may be placed, and individually controlled. Lenses are controlled using the right mouse button, rather than the left as for sources. Controls are identical, except for the "size" control. Because we are using an NIE model in this code, when you press "s" to change the size of the lens, there are two sizes: one is the Einstein radius (move the mouse vertically), the other one is the core radius (move the mouse horizontally).</p>
</li>

<li><p>Visualization Toggles:<br>
Try "f" and "g". :-)</p></li>

<li><p>If you are interested in installing it on you computer, please scroll down to the bottom of this page to read the instruction.</p></li>
</ol>

<h3>
<a id="todo-list" class="anchor" href="#todo-list" aria-hidden="true"><span class="octicon octicon-link"></span></a>Todo List</h3>
Many of the features listed below have been developed, but not yet released in the basic toolkit.
The next version of this software will include these many additional tools.

<ol>
<li>
<p>Sources</p>

<ul>
<li>[DONE] More sources.</li>
<li>[DONE] More models of sources (Sersic, Moffat, Disk+Bulge...).</li>
<li>[DONE] Real galaxies images.</li>
<li>[DONE] Arbitrary pictures (for fun).</li>
</ul>
</li>
<li>
<p>Lenses</p>

<ul>
<li>[DONE] More models of lenses (PIEMD, GNFW, NFW+Hernquist, Burkert...).</li>
<li>[DONE] Directly input mass sheet.</li>
<li>[DONE] More satellite galaxies?</li>
<li>[..........] Realistic images of satellite galaxies.</li>
</ul>
</li>
<li>
<p>Algorithm</p>

<ul>
<li>[..........] Anti-Aliasing.</li>
<li>[..........] Better caustic rendering.</li>
</ul>
</li>
<li>
<p>Time Delays</p>

<ul>
<li>[DONE] Implement full time delay calculations (for varying sources).</li>
<li>[DONE] Animate varying sources, with time delays, in output <a href="https://www.youtube.com/watch?v=u6mARnNMCUA">visualization</a>.</li>
</ul>
</li>
<li>
<p>Competitive Lensing - Modeling and Reconstruction!</p>
<ul>
<li>[..........] Input lensed images by one person.</li>
<li>[..........] Reconstruct it by a second person.</li>
<li>[..........] Score the match.</li>
</ul>
</li>
<li>
<p>Inputs and Outputs</p>

<ul>
<li>[..........] Save the parameters of current lensing system, including lenses and sources, in multiple formats.</li>
<li>[..........] Input the system configuration - lenses and sources - as a catalog control file.</li>
<li>[..........] Show all the parameters of current lensing system in real time.</li>
</ul>
</li>
</ol>

<h3>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h3>

<ol>
<li>
<p>Dependences:  </p>

<ul>
<li>
<a href="https://www.python.org">Python2.7</a>, <a href="http://www.numpy.org">Numpy</a>, <a href="http://www.pygame.org">Pygame</a>, <a href="http://cython.github.io">Cython</a> and <a href="https://www.libsdl.org">SDL</a>.</li>
<li>If you are using Linux, you can install all these packages using the default package manager, for example, apt-get for Debian and Ubuntu, yum for Fedora and Redhat,  pacman for Archlinux and so on.</li>
<li>If you are using Mac, I would recommend <a href="https://www.macports.org">Macports</a> or <a href="http://brew.sh">Homebrew</a> to install these packages.</li>
<li>My favorite way to install all the dependences is using <a href="https://store.continuum.io/cshop/anaconda/">Anaconda</a>. Once you have installed Anaconda, the environment of python2.7 is ready.</li>
</ul>

<p>THEN</p>

<div class="highlight highlight-source-shell"><pre>$ conda install -c https://conda.binstar.org/quasiben pygame</pre></div>

<p>If your SDL is not installed in /usr/local/lib, you need to link it to the default directory.</p>

<div class="highlight highlight-source-shell"><pre>$ sudo ln /opt/local/lib/libSDL-1.2.0.dylib /usr/local/lib/libSDL-1.2.0.dylib</pre></div>

<ul>
<li>I have got the first version of a standalone APP for Mac using <a href="http://pythonhosted.org/py2app/">py2app</a>. You can find it here: <a href="https://www.dropbox.com/s/md2ppg5es7r3ner/Bending%20Light.zip?dl=0">Bending Light</a>.</li>
</ul>
</li>
<li>
<p>Installation:  </p>

<ul>
<li>Clone it or download it,<br>
</li>
</ul>

<p>THEN</p>

<div class="highlight highlight-source-shell"><pre>$ <span class="pl-c1">cd</span> libs
$ python2.7 setup.py build_ext --inplace</pre></div>

<p>OR</p>

<div class="highlight highlight-source-shell"><pre>$ <span class="pl-c1">cd</span> libs
$ ./make_so</pre></div>
</li>
<li>
<p>Code Running:  </p>

<div class="highlight highlight-source-shell"><pre>$ <span class="pl-c1">cd</span> ../
$ python2.7 multiple_sources.py</pre></div>
</li>
</ol>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/linan7788626/cython_pylensing_toys/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/linan7788626/cython_pylensing_toys/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/linan7788626/cython_pylensing_toys"></a> is maintained by <a href="https://github.com/linan7788626">linan7788626</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>


  </body>
</html>
